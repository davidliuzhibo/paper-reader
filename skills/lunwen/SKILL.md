---
name: lunwen
description: "读取并解释学术论文，用通俗易懂的'黄叔风格'叙事方式生成中文解读。当用户提供论文PDF文件路径或URL时使用此技能，自动提取内容、分析研究、生成配图，输出结构化的Markdown文档。"
---

# 论文解读助手

## 概述

一个专门用于阅读学术论文并生成易懂解释的Claude技能。采用"黄叔风格"的叙事方式,将复杂的学术内容转化为亲切、易懂的中文解释,并配合AI生成的配图。

## 功能说明

当用户需要理解学术论文时,本技能会:
1. 读取PDF文件或URL链接
2. 提取并分析论文核心内容
3. 用通俗易懂的叙事风格重新解释
4. 生成2-3张配图辅助理解
5. 输出结构化的Markdown文档

适用场景:
- "帮我读一下这篇论文"
- "解释这个研究在说什么"
- "用简单的话讲讲这篇paper"
- "论文解读"
- "学术文章总结"

---

## 指令

### 核心原则:静默执行模式

**重要**:本技能采用零打断自动化流程。遇到任何问题时,使用预设默认值和降级策略,绝不询问用户"是否继续"或"如何处理"。

### 执行流程

#### 阶段1:输入获取

**输入类型识别**:
- 接受PDF文件路径(绝对路径或相对路径)
- 接受论文URL链接
- 从用户消息中自动识别输入类型

**静默处理逻辑**:
```
如果是文件路径:
  → 检查文件是否存在
  → 存在:继续
  → 不存在:输出错误信息并退出:"无法找到文件:[路径]。请检查文件路径是否正确。"

如果是URL:
  → 尝试访问URL
  → 成功:下载PDF并继续
  → 失败:输出错误信息并退出:"无法访问URL:[链接]。请检查网络连接或提供PDF文件。"

如果两者都没有:
  → 输出:"请提供论文PDF文件路径或URL链接。"
```

**不要询问**:
- ❌ "您想提供文件还是URL?"
- ❌ "文件路径是什么?"
- ✓ 直接从用户消息中提取,失败则明确说明需要什么

---

#### 阶段2:内容提取

**提取策略**:
1. 使用Read工具读取PDF文件
2. 如果是图片型PDF,说明情况并尝试提取可见文本
3. 如果内容超过100K tokens,自动分块处理

**静默处理逻辑**:
```
文本提取成功?
  → 是:检查内容长度
    → <100K tokens:直接处理
    → >100K tokens:分块处理,每块独立分析后综合
  → 否:尝试读取为图像
    → 成功:说明"这是扫描版PDF,我将基于可见内容进行解读"
    → 失败:退出并说明"无法提取PDF内容,文件可能已损坏"
```

**提取目标**:
- 论文标题(中英文)
- 作者信息
- 摘要(Abstract)
- 研究问题/目标
- 方法论(Methodology)
- 主要发现(Key Findings)
- 结论(Conclusion)
- 局限性(Limitations,如果有)

**降级策略**:
- 如果某些部分缺失,继续处理可用内容
- 在输出的元数据中注明:"部分章节未找到,已基于可用内容生成解读"

---

#### 阶段3:论文分析

**分析维度**:

1. **研究背景**:
   - 这个研究要解决什么问题?
   - 为什么这个问题重要?
   - 现有研究有什么不足?

2. **核心方法**:
   - 研究者用什么方法来解决问题?
   - 实验/调查是怎么设计的?
   - 数据从哪里来?

3. **关键发现**:
   - 最重要的3-5个发现是什么?
   - 哪些结果出乎意料?
   - 数据支持了什么结论?

4. **意义与启示**:
   - 这个研究对领域有什么贡献?
   - 对实际应用有什么启发?
   - 还有哪些问题没解决?

**静默处理**:
- 即使论文结构不标准,也要尽力提取以上信息
- 如果某个维度信息不足,在该部分简要说明并继续
- 不要因为信息不完整就停止处理

---

#### 阶段4:风格转换 - "黄叔风格"应用

**风格特征**(基于SuperHuang参考资料):

1. **个人化叙事**:
   - 用第一人称视角引入:"我读完这篇论文后..."
   - 分享真实感受:"有意思的是..." / "让我意外的是..."
   - 避免学术腔,用对话式语气

2. **故事化结构**:
   - 开头用场景或问题引入,而非直接讲论文
   - 例如:"你有没有想过,为什么..." / "最近我在思考一个问题..."
   - 把研究过程讲成探索故事

3. **通俗化表达**:
   - 技术术语必须解释:不说"神经网络架构",说"就像搭积木一样,研究者设计了一个..."
   - 用类比和比喻:把抽象概念具象化
   - 短句为主,避免长难句

4. **真实与反思**:
   - 诚实指出论文的局限:"当然,这个研究也有不足..."
   - 分享个人思考:"这让我想到..."
   - 不过度吹捧,保持客观

5. **长文深度**:
   - 目标长度:3000-5000字
   - 不怕展开,把概念讲透
   - 但保持节奏,用小标题分段

**内容结构模板**:

```markdown
# [论文标题的中文翻译]

**原文**:[English Title]
**作者**:[Authors]
**我的解读时间**:[生成时间]

---

## 开场:为什么要读这篇论文

[用一个场景、问题或个人经历引入,100-200字]
[说明这个研究为什么值得关注]

## 研究背景:他们想解决什么问题

[用通俗语言解释研究动机,300-500字]
[可以用类比:"就像...一样"]
[说明现有方法的不足]

## 他们是怎么做的:方法论解读

[把研究方法讲成故事,400-600字]
[避免术语堆砌,用"首先...然后...最后..."的流程]
[如果有复杂概念,用比喻解释]

![配图1](image_url)
*[图片说明:可视化研究方法或核心概念]*

## 核心发现:他们发现了什么

[列出3-5个关键发现,每个150-200字]
[用"有意思的是..." / "出乎意料的是..."等过渡]
[结合数据,但用通俗方式呈现]

![配图2](image_url)
*[图片说明:可视化主要发现]*

## 深入思考:这意味着什么

[分析研究的意义,300-400字]
[连接到实际应用场景]
[提出可能的影响]

## 局限与展望

[诚实指出研究的不足,200-300字]
[说明未来可以改进的方向]
[保持客观,不过度批评]

## 我的感想

[个人反思,200-300字]
[这个研究给你的启发]
[可以提出问题或延伸思考]

![配图3](image_url)
*[图片说明:总结性可视化]*

## 总结

[一段话概括核心信息,100-150字]
[给读者一个清晰的takeaway]

---

**元数据**
📄 论文类型:[研究论文/综述/案例研究]
⏱️ 处理时长:[X秒]
🖼️ 配图生成:[成功/部分成功/失败]
📝 提取方式:[文本提取/OCR]
⚠️ 特别说明:[如有异常情况,在此注明]

---
```

**静默执行要点**:
- 即使某些章节信息不足,也要保持结构完整
- 缺失的部分用简短说明代替,不留空白
- 保持叙事流畅,不要因为信息缺失而中断

---

#### 阶段5:配图生成(Nano Banana API)

**API配置**:
- 端点:`https://yunwu.ai/v1beta/models/gemini-3-pro-image-preview:generateContent`
- 模型:`gemini-3-pro-image-preview`
- API密钥:`sk-vnGbZHjawACCghqzVzekqy8OPEa42UPnmL2rMKTmAbvZPywV`
- 方法:POST
- 超时:30秒

**图片策略**:
生成2-3张配图,分别对应:
1. **概念图**:可视化核心概念或研究框架
2. **流程图**:展示研究方法或数据处理流程
3. **总结图**:信息图风格的关键发现总结

**提示词生成原则**:
- 用中文描述图片内容
- 风格:教育性、清晰、现代
- 避免过于抽象,要具体可视化
- 示例格式:"创建一张插图,展示[具体内容],使用清晰的教育风格,包含[关键元素]"

**提示词模板**:
```
图1(概念可视化):
"创建一张教育性插图,展示[论文核心概念]。用简洁的图形和标注说明[关键机制]。风格:现代、清晰、适合科普文章。"

图2(流程可视化):
"创建一张流程图,展示[研究方法的步骤]。包含:[步骤1] → [步骤2] → [步骤3]。使用箭头和简短文字标注。风格:信息图表风格。"

图3(总结可视化):
"创建一张信息图,总结[论文的主要发现]。包含3-5个要点,每个要点用图标和简短文字说明。风格:现代信息图表。"
```

**API调用流程**:

使用Bash工具执行curl命令:
```bash
curl -X POST "https://yunwu.ai/v1beta/models/gemini-3-pro-image-preview:generateContent" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer sk-vnGbZHjawACCghqzVzekqy8OPEa42UPnmL2rMKTmAbvZPywV" \
  -d '{
    "contents": [{
      "parts": [{
        "text": "[生成的中文提示词]"
      }]
    }],
    "generationConfig": {
      "temperature": 0.7,
      "maxOutputTokens": 2048
    }
  }' \
  --max-time 30
```

**错误处理(静默模式)**:

```
API调用成功?
  → 是:解析返回的图片URL
    → URL有效:嵌入Markdown
    → URL无效:跳过此图,继续下一张
  → 否:检查错误类型
    → 超时:重试一次(仅一次)
      → 成功:使用图片
      → 失败:继续,不使用此图
    → 认证错误:记录到元数据,继续不使用图片
    → 其他错误:记录到元数据,继续不使用图片

所有图片都失败?
  → 在元数据中注明:"🖼️ 配图生成:失败(API错误)"
  → 继续生成文字解读
  → 不要停止整个流程
```

**重要**:
- 图片生成失败不影响文字解读输出
- 最多重试1次,避免长时间等待
- 所有API错误都要在元数据中记录
- 用户永远能得到文字解读,图片是增强项

**图片嵌入格式**:
```markdown
![论文核心概念可视化](图片URL)
*配图说明:[简短描述图片内容,20-30字]*
```

---

#### 阶段6:Markdown输出生成

**文件命名规则**:
- 格式:`paper-explanation-[YYYYMMDD-HHMMSS].md`
- 示例:`paper-explanation-20260114-153022.md`
- 编码:UTF-8 with BOM(确保中文正确显示)

**输出位置逻辑**:
```
用户指定了输出路径?
  → 是:路径可写?
    → 是:写入指定路径
    → 否:尝试当前工作目录
  → 否:使用当前工作目录

当前工作目录不可写?
  → 尝试用户主目录
  → 仍然失败:输出到stdout并说明"无法写入文件,内容如下:"
```

**文件写入步骤**:
1. 使用Write工具创建Markdown文件
2. 确保所有中文字符正确编码
3. 验证图片链接格式正确
4. 检查Markdown语法有效性

**输出确认消息**:
```
✅ 论文解读完成!

📄 输出文件:[完整路径]
📊 内容长度:[字数]
🖼️ 配图数量:[X张]
⏱️ 处理时长:[X秒]

你可以打开文件查看完整解读。
```

如果有警告或问题:
```
⚠️ 注意事项:
- [问题1说明]
- [问题2说明]

尽管如此,解读已成功生成。
```

---

### 质量标准检查清单

**执行前检查**:
- [ ] 已识别输入类型(文件/URL)
- [ ] 已验证输入可访问性

**处理中检查**:
- [ ] 内容提取成功(或已尝试所有方法)
- [ ] 至少提取到标题、摘要、核心发现
- [ ] 已应用"黄叔风格"转换
- [ ] 已尝试生成配图(即使失败也继续)

**输出前检查**:
- [ ] 文章结构完整(所有章节都有内容)
- [ ] 总字数达到3000字以上(除非论文极短)
- [ ] 中文表达流畅自然
- [ ] 技术术语都有解释
- [ ] Markdown格式正确
- [ ] 元数据部分完整

**最终验证**:
- [ ] 文件成功写入(或已输出到stdout)
- [ ] 向用户发送确认消息
- [ ] 如有异常,已在元数据中说明

---

### 禁止行为清单

**永远不要**:
- ❌ 询问"是否继续?"
- ❌ 询问"使用哪种方法?"
- ❌ 询问"输出到哪里?"
- ❌ 询问"需要配图吗?"
- ❌ 因为API失败就停止整个流程
- ❌ 因为信息不完整就拒绝生成
- ❌ 输出英文内容(除了原文标题)
- ❌ 使用学术腔调和术语堆砌
- ❌ 生成过短的解读(<2000字)

**永远要做**:
- ✅ 使用预设默认值自动决策
- ✅ 遇到错误时降级处理
- ✅ 保持"黄叔风格"的叙事性
- ✅ 用通俗语言解释技术概念
- ✅ 即使部分失败也完成输出
- ✅ 在元数据中记录所有异常
- ✅ 给用户明确的完成确认

---

### 默认值速查表

| 场景 | 默认值 |
|------|--------|
| 输出位置 | 当前工作目录 |
| 文件名 | paper-explanation-[时间戳].md |
| 分析深度 | 全面分析(3000-5000字) |
| 写作风格 | 黄叔风格(叙事性、通俗化) |
| 配图数量 | 2-3张(失败则0张) |
| 输出语言 | 中文 |
| API超时 | 30秒 |
| 重试次数 | 1次 |
| 错误处理 | 降级继续,不中断流程 |

---

## 使用示例

**示例1:本地PDF文件**
```
用户:"帮我读一下这篇论文:./papers/transformer-paper.pdf"

技能执行:
1. 读取PDF文件
2. 提取内容并分析
3. 生成黄叔风格解读
4. 调用API生成3张配图
5. 输出:paper-explanation-20260114-153022.md

输出消息:"✅ 论文解读完成!文件已保存到:./paper-explanation-20260114-153022.md"
```

**示例2:URL链接**
```
用户:"解释一下这个研究:https://arxiv.org/pdf/2301.12345.pdf"

技能执行:
1. 下载PDF
2. 提取并分析
3. 生成解读
4. 尝试生成配图(假设API超时)
5. 继续完成文字解读
6. 输出文件,元数据注明"配图生成:失败(API超时)"
```

**示例3:扫描版PDF**
```
用户:"读这篇:./scanned-paper.pdf"

技能执行:
1. 尝试文本提取(失败)
2. 识别为图片型PDF
3. 说明"这是扫描版PDF,我将基于可见内容进行解读"
4. 提取可见文本
5. 生成解读(可能较简略)
6. 元数据注明"提取方式:OCR(扫描版)"
```

---

## 结束语

本技能的核心理念是**零打断自动化**。无论遇到什么情况,都要尽最大努力完成任务,而不是停下来询问用户。通过预设的默认值、降级策略和错误处理,确保用户总能得到有价值的输出。

记住:"黄叔风格"的精髓是**把复杂的东西讲清楚,让读者感觉像在听朋友讲故事**。
